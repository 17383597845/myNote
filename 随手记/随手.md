 ### 1、防火墙基本功能：
	 局域隔离：在不同信任级别的网络之间
	 访问控制：在墙上开门，按照安全策略来进行检查和放通
	
	![[Pasted image 20231129084742.png]]
#### 2、 功能增加
1995-2004年，防火墙开始具备一些气筒功能（如vpn）。waf出现雏形
2004年，美国idc首度提出utm（统一威胁管理）的概念，将传统防火墙，入侵检测，防病毒，url过滤、应用程序控制、邮件过滤等功能融合到一台防火墙上。而防火墙却开始面临应用层信息检测深度受限和性能消耗问题，dpi（深度报文检测）技术为应用对报文检测深度得到广泛使用
#### 3、包过滤防火墙
#### 4、应用代理防火墙
#### 5、状态检测防火墙
![[Pasted image 20231129090225.png]]
#### 6、下一代防火墙
![[Pasted image 20231129090335.png]]
基于网络的检测与响应体系图-ndr
![[Pasted image 20231129090524.png]]





#### 7、预定义安全区域
	![[Pasted image 20231129092247.png]]

dmz的访问策略：
![[Pasted image 20231129092348.png]]






#### 8、防火墙分类
![[Pasted image 20231129092719.png]]


#### 9、性能指标
![[Pasted image 20231129100118.png]]
#### 10、基础功能对比
![[Pasted image 20231129100359.png]]

#### 11、ngfw flow流程
**重点：**
![[Pasted image 20231129101429.png]]
#### 12、状态检测技术
包过滤式静态的，而基于会话建立的会话表中记录类当前的合法链接，会随着数据包传输进行实时更新。
状态检测技术采用基于链接的状态检测机制
状态检测技术通过规则表之间相互配合，对表中的各个链接状态因素加以识别
Acl遇到的问题：
	![[Pasted image 20231129103355.png]]
	**这里我们想要解决的式主机可以访问外网服务器，而外网不能访问主机。如果使用的是acl，那么host发送的包到了server，但是server的回报被规则拦截。**
而状态检测就可以解决这个问题，关键点是，他是基于状态的，**在状态检测防火墙中，一次会话，只有首包会在策略中匹配，如果首包匹配，，防火墙就会记录当前会话，获取的包将直接匹配转发**。
![[Pasted image 20231129103718.png]]


**防火墙记录tcp会话**：
![[Pasted image 20231129103858.png]]

**udp伪会话和icmp会话：**
对于icmp来说，只有防火墙收到的首包echo request报文并通过安全策略检测后才会创建会话，其他情况都不会创建会话并且还要丢包
![[Pasted image 20231129104322.png]]
**优点和缺点：**
![[Pasted image 20231129104559.png]]

#### 13、应用识别技术
应用识别是一种按照流量中的应用/协议特征对流量进行分类的机制，通过应用识别技术精确识别流量中的各类应用，从而对流量进行精细化的管控
![[Pasted image 20231129104836.png]]


应用识别技术分类：
![[Pasted image 20231129105143.png]]
流和包：一个流有多个包
深度包：深度检测包中字段
深度流：对应用数据流的行为特征进行分析并创建特征模型，对经过的数据流与模型进行匹配，模型的准确性决定检测的准确性

**![[Pasted image 20231129105724.png]]**


DFi技术与dpi技术的区别：
![[Pasted image 20231129112239.png]]

#### 14、内容检查技术
![[Pasted image 20231129112544.png]]

内容过滤原理：
![[Pasted image 20231129113043.png]]





