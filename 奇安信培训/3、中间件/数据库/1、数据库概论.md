数据库概论
## 一、一些概念
关系型，非关系型
特点：
	数据结构化
	共享性高，冗余度低
	具有高度的数据独立性和逻辑独立性
	数据完整性
	由dbms统一管理
数据模式：
	概念模型：
		利用er图表示实体与实体之间的联系（由现实世界抽象出来）
	dbms支持的数据模型（逻辑模型）：
		数据库设计人员利用数据库设计工具设计，必须满足三范式
		组织数据的结构有以下三种：
			层次模型、网状模型、关系模型
	物理模型：
		最底层数据的抽象
三范式：
            第一范式（1NF）：确保每个列都是原子的，不可再分的。也就是说，每个表中的每个字段都应该包含一个不可再分的单一值，而不是多个值的集合。
			第二范式（2NF）：确保表中的所有非主键列都完全依赖于整个主键，而不是仅依赖于主键的一部分。简单来说，每个非主键列都应该完全依赖于表的整个主键。
			第三范式（3NF）：确保表中的所有列都与主键直接相关，而不是与其他非主键列相关。这意味着，如果一个非主键列只与主键的某一部分相关，就应将其分解成独立的表，以消除传递依赖。
数据模型三大组成要素：
![[Pasted image 20231113091906.png]]

![[Pasted image 20231113093128.png]]
## 二、数据库类型
### 1、关系型数据库：
#### a、特点：
		容易理解、使用方便、易于维护
		利用关系模型组织数据
#### b、常见关系型数据库
oracle（1521）、sqlserver（1433）、mysql（3306）、postgresql（5432）、db2（5000）、access（文件类型数据库不需要端口号）
#### c、oracle：
	实例保存在内层，数据库保存在硬件；两个管理员（sys：用于管理实例，system：用于管理数据库）
#### d、sqlserver
	优点是效率高，缺点是只能在window上使用。安装四个默认数据库：
	master数据库：记录了sqlserver所有的系统信息，用户信息和进程信息
	model数据库：用户使用数据库时的模板库
	tempdb数据库：全局资源，可供连接到sqlserver的所有用户使用，保存的是临时的数据和存储过程
	msdb数据库：记录管理员操作和报警信息
#### e、postgresql
	内置了很多存储过程，管理员用户：postgres
	默认数据库：
		template0，template1
		postgres：核心库，保存用户相关的一些信息
#### f、mysql：
默认root管理员账户，开源免费，多平台支持
默认库：
information_schema：保存了所有数据库信息
mysql：mysql中的权限信息，比如用户权限
performance_schema：存储配置及性能的信息
sys：5.7新加的数据库，以前是test数据库，sys数据库的增加是为了提高mysql的性能
### 2、非关系数据库：
#### a、特点：
格式灵活：可以使用键值对，也可以使用文件
速度快
学习成本高：不支持sql，不同的nosql语法都有不同
数据结构复杂
利用网状模型组织数据
#### b、常见的nosql数据库
mongodb，redis（6379）
#### c、redis
对关系型数据库做补充

## 三、web应用架构
指的是运行动态网站或者服务器的自由软件
## 四、数据库在web中的风险
### 1、常见风险
	弱密码：不好解决，只能通过流量监控，查看有没有弱密码爆破
	脱库
	防护：
		密码管理
		端口安全：不使用默认端口，使用非常用的端口（1-1023是系统保留的，所以我们一般使用1024-65535之间的）
		数据传输安全：数据传输通过网络，如果是密文就有可能被攻击，所以我们一般使用加密通道
		日志记录：黑客已经到了数据库内，我们可以通过日志进行溯源
### 2、安全配置
#### a、补丁安装
补丁安装以及版本升级对数据库至关重要，保持较高的软件可以规避已知的安全风险
#### b、账户密码
特别要注意的就是sqlserver的sa管理账户，它默认是空密码
#### c、网络与服务
我们可以修改默认端口
#### d、日志审核
这里就是溯源
#### e、服务降权
不要使用管理员启动服务，防止黑客在获取数据库权限后，影响其他服务
#### f、管理村粗过程
sqlserver为用户提供了丰富的存储过程，xp_cmdshell存储过程可以执行系统权限，在我们不需要使用的时候，这些存储过程应该删除掉
